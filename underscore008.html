<!doctype html>  
  
<html>  
    <head>  
        <title>call/apply中的this</title>
        <script src="underscore.js"></script>  
    </head>  
    <body>  
        <script type="text/javascript"> 
            function Product(name, price) {
              console.log(this)
              this.name = name;
              this.price = price;
            }

            function Food(name, price) {
              Product.call(this, name, price);
              this.category = 'food';
            }

            function Toy(name, price) {
              Product.call(this, name, price);
              this.category = 'toy';
            }

            // var cheese = new Food('feta', 5);
            // Food('feta', 5)
            // var fun = new Toy('robot', 40);
            // var animals = [
            //   { species: 'Lion', name: 'King' },
            //   { species: 'Whale', name: 'Fail' }
            // ];

            // for (var i = 0; i < animals.length; i++) {
            //   (function(i) {
            //     this.print = function() {
            //       console.log('#' + i + ' ' + this.species
            //                   + ': ' + this.name);
            //     }
            //     // this.print();
            //     console.log(animals);
            //     console.log(this)
            //   }).call(this,animals[i], i);
            // }
        </script>  
    </body>  
</html>  